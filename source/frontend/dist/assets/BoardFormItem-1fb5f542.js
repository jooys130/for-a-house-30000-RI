import{u as A,l as B,g as u,f as C,s as U,i as E,m as V,r,o as f,c as R,e as a,w as i,a as c,h,d as p,n as T}from"./index-03511842.js";import{g as F,r as L,m as q}from"./notice-fb455aa9.js";const z=["onSubmit"],D={class:"col-auto text-center d-flex justify-center"},J={__name:"BoardFormItem",props:{type:String},setup(_){const k=A(),w=B(),g=_,b=u(!1),I=C(),{userInfo:x}=U(I);E(()=>{console.log(x.value)});const t=u({articleNo:0,subject:"",content:"",userId:x.value.userId,userName:"",hit:0,registerTime:""});if(g.type==="modify"){let{noticeNo:l}=w.params;F(l,({data:e})=>{t.value=e,b.value=!0},e=>{console.error(e)}),b.value=!0}const s=u(""),n=u("");V(()=>t.value.subject,l=>{let e=l.length;e==0||e>30?s.value="제목을 확인해 주세요!!!":s.value=""},{immediate:!0}),V(()=>t.value.content,l=>{let e=l.length;e==0||e>500?n.value="내용을 확인해 주세요!!!":n.value=""},{immediate:!0});function d(){s.value?alert(s.value):n.value?alert(n.value):g.type==="regist"?N():j()}function N(){console.log("글등록하자!!",t.value),L(t.value,l=>{let e="글등록 처리시 문제 발생했습니다.";l.status==201&&(e="글등록이 완료되었습니다."),alert(e),m()},l=>console.error(l))}function j(){console.log(t.value.articleNo+"번글 수정하자!!",t.value),q(t.value,l=>{let e="글수정 처리시 문제 발생했습니다.";l.status==200&&(e="글정보 수정이 완료되었습니다."),alert(e),m()},l=>console.log(l))}function m(){k.push({name:"article-list"})}return(l,e)=>{const y=r("v-text-field"),M=r("v-textarea"),v=r("v-btn"),S=r("v-sheet");return f(),R("form",{style:{width:"50vw"},onSubmit:T(d,["prevent"])},[a(S,null,{default:i(()=>[c("div",null,[a(y,{label:"제목",variant:"solo-filled",placeholder:"제목을 입력해주세요.",modelValue:t.value.subject,"onUpdate:modelValue":e[0]||(e[0]=o=>t.value.subject=o)},null,8,["modelValue"])]),c("div",null,[a(y,{label:"작성자",variant:"solo-filled",modelValue:t.value.userId,"onUpdate:modelValue":e[1]||(e[1]=o=>t.value.userId=o),readonly:""},null,8,["modelValue"])]),c("div",null,[a(M,{label:"내용",variant:"solo-filled",placeholder:"내용을 입력해주세요.",modelValue:t.value.content,"onUpdate:modelValue":e[2]||(e[2]=o=>t.value.content=o),rows:"10"},null,8,["modelValue"])]),c("div",D,[_.type==="regist"?(f(),h(v,{key:0,class:"mx-8",onClick:d},{default:i(()=>[p("글작성")]),_:1})):(f(),h(v,{key:1,class:"mx-8",onClick:d},{default:i(()=>[p("글수정")]),_:1})),a(v,{class:"mx-8",onClick:m},{default:i(()=>[p("글목록 ")]),_:1})])]),_:1})],40,z)}}};export{J as _};
